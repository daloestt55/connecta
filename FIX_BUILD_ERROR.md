# Решение проблемы сборки Connecta Desktop

## Проблема
При сборке Windows установщика выдается ошибка:
```
ERROR: Cannot create symbolic link : Не обладает требуемыми правами
```

Это происходит потому, что electron-builder пытается распаковать инструменты для подписи кода (winCodeSign), а Windows не позволяет создавать символические ссылки без специальных прав.

## Решение 1: Включить Developer Mode (Рекомендуется)

### Шаги:
1. Нажмите **Win + I** (откроется окно Настройки Windows)
2. Перейдите в **"Конфиденциальность и безопасность"** (Privacy & Security)
3. Найдите раздел **"Для разработчиков"** (For developers)
4. Включите **"Режим разработчика"** (Developer Mode)
5. Подтвердите включение (может потребоваться перезагрузка)

### После включения:
```powershell
# В терминале VS Code запустите:
npm run build:win
```

---

## Решение 2: Запуск от администратора

### Шаги:
1. **Закройте VS Code**
2. Найдите **PowerShell** в меню Пуск
3. Нажмите **правой кнопкой мыши** → **"Запуск от имени администратора"**
4. Перейдите в папку проекта:
   ```powershell
   cd "C:\Users\artem\Desktop\connecta design new"
   ```
5. Запустите сборку:
   ```powershell
   npm run build:win
   ```

---

## Что делать после успешной сборки

После успешной сборки в папке **`release/`** появятся файлы:
- `Connecta-Setup-1.0.0.exe` - Полный установщик (x64 и x86)
- `Connecta-Portable-1.0.0.exe` - Портативная версия (x64)

### Установка:
1. Запустите `Connecta-Setup-1.0.0.exe`
2. Выберите папку для установки
3. Установите ярлыки на рабочий стол и в меню Пуск
4. Запустите приложение

---

## Troubleshooting

### Если сборка все равно не работает:
```powershell
# 1. Очистите кэш electron-builder
Remove-Item -Recurse -Force "$env:LOCALAPPDATA\electron-builder\Cache\winCodeSign"

# 2. Очистите папку сборки
Remove-Item -Recurse -Force "release", "dist", "dist-electron"

# 3. Переустановите зависимости
Remove-Item -Recurse -Force "node_modules"
npm install

# 4. Попробуйте снова
npm run build:win
```

### Если нужна только portable версия (без установщика):
```powershell
npm run build:portable
```

---

## Дополнительная информация

- **Developer Mode**: Включает расширенные возможности разработки, позволяет создавать символические ссылки без прав администратора
- **Безопасность**: Оба метода безопасны, Developer Mode более удобен для постоянной разработки
- **Время сборки**: Первая сборка займет 5-10 минут (скачивает Electron runtime ~120 MB)
- **Размер файлов**: Установщик ~80-100 MB, Portable ~120-150 MB

---

## Контакты
Если проблемы продолжаются, проверьте:
1. Версию Node.js: `node --version` (должно быть v18+)
2. Свободное место на диске (минимум 2 GB)
3. Антивирус не блокирует сборку
4. Путь к проекту не содержит кириллицы или спецсимволов
